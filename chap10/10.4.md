<a name="10.4" />
# 10.4 追踪内存泄漏

排查内存泄漏问题是个技术活儿，通常会交叉使用多种工具和技术。有时候，应用程序会意外持有无用对象的引用，而且若被泄露的内存分别在不同的地方分配和持有，则排查起来就更加困难，因此需要详细分析才能找到内存泄漏的真正根源。

启动 **Memleak**只需在JRockit Mission Control的 **JVM Browser**视图中，右键点击目标JVM，选择 **Memleak**即可。

>同一时间，只能有一个Memleak连接到目标JVM上。

在Memleak中，**Trend Table**可用于检测是否有潜在的内存泄漏，其具体实现是通过定期构建应用程序中各类型对象实例数量的直方图，再经过对比判断来实现的。针对各类型实例所占用内存做最小二乘拟，并"字节/每秒"为单位显示内存增长率。

>在JRockit Mission Control 4.1.0版本中，该算法会相对复杂一点，它需要整合存活对象集的数量。若某些类型的实例的随存活对象集大小的增长曲线相匹配，则很可能是在这些类型上出现了内存泄漏。