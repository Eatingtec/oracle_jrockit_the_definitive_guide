<a name="9.3" />
# 9.3 与JRA的区别

由于JFR是基于事件进行记录的，因此在实现上与JRA有很大区别。例如，在JFR中，几乎所有的标签页都有范围选择器。因为是基于事件记录的，所以可以通过指定时间范围进行过滤，而且数据的粒度可以更细，数据源也更多。

下面会对其中的区别做详细介绍。

<a name="9.3.1" />
## 9.3.1 范围选择器

在下面的截图中展示了JFR中 **通用 | 概览**标签页中的内容。与JRA中相比（参见[第8章][2]中的内容），略有不同。

![Figure 9-13][1]

正如前面提到的，在JFR中，几乎所有的标签页都有范围选择器。范围选择器的背景图案显示了在记录时间范围内所发生的事件数量。例如，在 **概览**标签页内，包含有堆、垃圾回收、CPU使用率和通用信息事件。

使用基于事件的数据模型所带来的影响是，可以通过范围选择器来选取出有数据但没事件的时间区间。在[第8章][2]中曾介绍过，通用信息是写在记录尾部的。在JFR中，某些事件会写到记录块的尾部。如果选取的范围中并没有期望的时间，则会显示 **N/A**，如下图所示。因此，在修改选择范围时，应该注意是否还包含有期望的事件。

![Figure 9-14][3]

由于范围选择器在很多地方都会用到，因此需要在响应的地方进行同步。勾选 **Synchronize Selection**复选框，确保其他使用了范围选择的标签页可以同步修改。

与JRA中的情况类似，修改了 **操作集（Operative Set）**之后，会突出显示。









[1]:    ../images/9-13.jpg
[2]:    ../chap8/8.md
[3]:    ../images/9-14.jpg