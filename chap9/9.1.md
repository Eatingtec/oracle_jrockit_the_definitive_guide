<a name="9.1" />
# 9.1 JRA进化

想JRA一样，JFR中也包含了两大部分，分别是内建于JRockit JVM的记录引擎和内建于JRockit Mission Control客户端的分析记录分析工具。记录引擎用于生成可供分析工具处理的记录文件，分析文件时，并不要求必须有活动连接，其本身是自描述的，即文件本身就包含了所有相关的元数据。此外，该文件也可以被发送给其他第3方分析工具做进一步的详细分析。

>在本章中，JFR和JFA表示同一个意思，可以互换使用。

在JFR中，记录文件不再使用XML格式，所有内容均记录在内存缓冲区中，并辅以相应的时间戳，并在合适的时机将之写入到构成记录的二进制文件中，此外，还通过专门的Java API实现了自定义事件和自定义用户分析接口的功能。

>在[第8章][1]中曾经提到过，JRA的记录是以XML格式存储的，其记录文件的后缀名为`.jra`。而在JFR中，文件后缀名变成了`.jfr`，存储格式也改成了二进制格式。由于可能会产生大量的目标事件，因此需要避免不必要的开销，将数据压缩存储。JRA记录无法向前兼容，JFR也无法打开JRA的记录文件。




[1]:    ../chap8/8.md#8