<a name="11.4" />
# 11.4 JRCMD命令参考

为便于使用，本节中的命令按字母顺便编排，若该命令只在JRockit R27或R28的某个版本得到支持，则会在命令的版本信息中加以说明，否则表示这两个版本均支持该命令。

# 11.4.1 check_flightrecording (R28)

在JRockit R27中，与该命令相对应的是`checkjrarecording`。该命令用于检查JFR引擎的状态，更多有关JFR的内容，请参见[第8章][1]和[第9章][2]的内容。一般情况下，该命令至少会返回一条当前正在进行的记录任务，因为大部分版本的R28在运行的时候都会开启一个低消耗的记录人物。由于JRockit JVM中可能同时存在多个正在执行的记录任务，因此可以为该命令指定一个任务ID，以便获取目标任务的执行状态。如果不指定参数，或者参数值为-1，则会返回所有正在执行的任务的状态。除了指定任务ID外，还可以通过参数`name`来指定记录任务的名字。如果是持续型记录任务，可以将参数`name`设置为`continuous`里查找。

例如：

    C:\>jrcmd 6328 check_flightrecording name=continuous verbose=true
    6328:
    Recording : id=0 name="continuous" duration=0s (running)
    http://www.oracle.com/jrockit/jvm/:
    java/alloc/accumulated/thread : disabled period=1000
    java/alloc/accumulated/total : enabled period=0
    java/alloc/object/in_new_tla : disabled threshold=10000000
    java/alloc/object/outside_tla : disabled threshold=10000000
    java/exception/stats : enabled period=1000
    java/exception/throw : disabled period=1000
    java/file/read : disabled threshold=10000000
    java/file/write : disabled threshold=10000000
    java/monitor/enter : disabled threshold=10000000
    java/monitor/profile : disabled period=1000
    java/monitor/wait : disabled threshold=10000000
    java/socket/read : disabled threshold=10000000
    java/socket/write : disabled threshold=10000000
    java/thread/end : enabled period=0
    java/thread/park : disabled threshold=10000000
    java/thread/sleep : disabled threshold=10000000
    java/thread/start : enabled period=0
    vm/class/load : disabled threshold=10000000
    vm/class/memory/free : enabled threshold=0

如果将参数`verbose`的值设为false，则只会在简单列出记录任务的ID、名字和持续时间；而设为true后，则会像示例一样，列出记录任务的事件生产者，以及每个事件生产者的的事件类型。上面的示例中列出了激活的持续型记录，其ID为0。在[http://www.oracle.com/jrockit/jvm/][3]中列出了各种类型的事件生产者，可以作为参考。

>译者注，链接已死。

>参见[`start_flightrecording`][4] [`stop_flightrecording`][5]和[`dump_flightrecording`][6]命令的说明。





[1]:    ../chap8/8.md#8
[2]:    ../chap9/9.md#9
[3]:    http://www.oracle.com/jrockit/jvm/
[4]:    #11.4.27
[5]:    #11.4.30
[6]:    #11.4.4