# 5 基准测试与性能调优

本章将对如何通过基准测试（benchmark）来衡量应用程序的性能，以及如何对JVM进行调优，以便Java应用程序可以运行得更快。

Benchmarking can, and should, be used to regression test an application during
development, to ensure that new code modifications do not impact performance.
Time and time again during our careers, we have seen unexpected performance
regressions crop up from seemingly innocent changes. Continuous, preferably
automated, benchmarking is the best way to prevent this from happening. Each
software project should have a performance goal and benchmarking is the way
to make sure that this goal is achieved.

Once we have discussed the hows and whys of good benchmarks, we will go on to
discuss how to draw conclusions from what is measured and when there is a need
to change the application or to just reconfigure the JVM by tuning parameters and
setup. Tuning will be discussed in general terms, but concrete examples will be
JRockit specific.

You will learn the following from this chapter:

* The relevance of benchmarking an application for finding bottlenecks, in
order to avoid regressions and in order to make sure that performance goals
for your software are achieved.
* How to create a benchmark appropriate for a particular problem set. This
includes deciding what to measure and making sure that the benchmark
actually does that. This also includes correctly extracting core application
functionality into a smaller benchmark.
* How some of the various industry-standard benchmarks for Java work.
Benchmarking and Tuning
* How to use benchmark results to tune an application and the JVM for
increased runtime performance.
* How to recognize bottlenecks in a Java program and how to avoid them.

>This includes standard pitfalls, common mistakes, and false optimizations.
Throughout this chapter, we will, among other things, discuss the
SPEC benchmarks. SPEC (www.spec.org) is a non-profit organization
that establishes, maintains, and endorses standardized benchmarks to
evaluate performance for the newest generation of computing systems.
Product and service names mentioned within this chapter are SPEC's
intellectual property and are protected by trademarks and service marks.